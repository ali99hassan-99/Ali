<!DOCTYPE html>
<html lang="ar">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>منتجاتنا</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <header>
        <h1>منتجاتنا</h1>
        <nav>
            <a href="index.html">الرئيسية</a>
            <a href="products.html">المنتجات</a>
            <a href="contact.html">تواصل معنا</a>
        </nav>
    </header>

    <main>
        <section class="products">
            <!-- منتج 1 -->
            <div class="product-card">
                <img src="images/product1.jpg" alt="منتج 1">
                <h3>منتج 1</h3>
                <p>وصف قصير للمنتج</p>
                <p>السعر: $100</p>
                <button onclick="showOrderForm('منتج 1', 100)">اطلب الآن</button>
            </div>

            <!-- منتج 2 -->
            <div class="product-card">
                <img src="images/product2.jpg" alt="منتج 2">
                <h3>منتج 2</h3>
                <p>وصف قصير للمنتج</p>
                <p>السعر: $200</p>
                <button onclick="showOrderForm('منتج 2', 200)">اطلب الآن</button>
            </div>

            <!-- منتج 3 -->
            <div class="product-card">
                <img src="images/product3.jpg" alt="منتج 3">
                <h3>منتج 3</h3>
                <p>وصف قصير للمنتج</p>
                <p>السعر: $300</p>
                <button onclick="showOrderForm('منتج 3', 300)">اطلب الآن</button>
            </div>
        </section>

        <!-- نموذج الطلب المنبثق -->
        <div id="orderModal" class="modal">
            <div class="modal-content">
                <span class="close-btn" onclick="closeOrderForm()">&times;</span>
                <h2>طلب المنتج</h2>
                <form action="submit_order.php" method="post">
                    <div class="form-group">
                        <label for="name">الاسم الكامل</label>
                        <input type="text" id="name" name="name" required>
                    </div>
                    <div class="form-group">
                        <label for="address">العنوان الكامل</label>
                        <input type="text" id="address" name="address" required>
                    </div>
                    <div class="form-group">
                        <label for="phone">رقم الهاتف</label>
                        <input type="number" id="phone" name="phone" required>
                    </div>
                    <div class="form-group">
                        <label for="product">المنتج</label>
                        <input type="text" id="product" name="product" readonly>
                    </div>
                    <div class="form-group">
                        <label for="quantity">العدد</label>
                        <input type="number" id="quantity" name="quantity" value="1" min="1" required oninput="updateTotal()">
                    </div>
                    <div class="form-group">
                        <label for="total">المجموع</label>
                        <input type="text" id="total" name="total" readonly>
                    </div>
                    <button type="submit" class="submit-btn">اطلب الآن</button>
                </form>
            </div>
        </div>
    </main>

    <footer>
        <p>جميع الحقوق محفوظة © 2024</p>
    </footer>

    <script>
        // عرض النموذج المنبثق
        function showOrderForm(product, price) {
            document.getElementById('product').value = product;
            document.getElementById('orderModal').style.display = 'block';
            // حفظ السعر في نموذج الطلب
            window.productPrice = price;
            updateTotal();  // تحديث المجموع عند عرض النموذج
        }

        // تحديث المجموع عند تغيير الكمية
        function updateTotal() {
            var quantity = document.getElementById('quantity').value;
            var total = quantity * window.productPrice;
            document.getElementById('total').value = total.toFixed(2); // تنسيق المجموع لإزالة الأصفار الزائدة
        }

        // إغلاق النموذج المنبثق
        function closeOrderForm() {
            document.getElementById('orderModal').style.display = 'none';
        }

        // إغلاق النموذج عند النقر خارج المحتوى
        window.onclick = function(event) {
            if (event.target == document.getElementById('orderModal')) {
                closeOrderForm();
            }
        }
    </script>

</body>
</html>
